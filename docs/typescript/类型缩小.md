# 类型缩小

## typeof

"string"
"number"
"bigint"
"boolean"
"symbol"
"undefined"
"object"
"function"

## Truthiness narrowing 真值缩小

```ts
// both of these result in 'true'
Boolean("hello"); // type: boolean, value: true
!!"world"; // type: true,    value: true
```

## Equality narrowing 相等性缩小

===, !==, ==, and !=

两个值做 equality 操作时，ts 会对背后的 type 进行缩小

TypeScript knew their types also had to be equal

```ts
function example(x: string | number, y: string | boolean) {
  if (x === y) {
    // We can now call any 'string' method on 'x' or 'y'.
    x.toUpperCase();
          
(method) String.toUpperCase(): string
    y.toLowerCase();
          
(method) String.toLowerCase(): string
  } else {
    console.log(x);
               
(parameter) x: string | number
    console.log(y);
               
(parameter) y: string | boolean
  }
}
```

## in 操作符

"value" in x

value 是一个 string literal

x 是一个 union type

```ts
type Fish = { swim: () => void };
type Bird = { fly: () => void };
 
function move(animal: Fish | Bird) {
  if ("swim" in animal) {
    return animal.swim();
  }
 
  return animal.fly();
}
```

# instanceof narrowing